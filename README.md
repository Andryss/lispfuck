## Отчет

* Кривошеев Андрей Александрович, P33111
* `lisp | acc | harv | hw | instr | binary | stream | mem | cstr | prob5 | 8bit`

---

* `lisp` -- Язык программирования. Синтаксис -- синтаксис языка Lisp. S-exp.
  * требуется поддержка функций и/или процедур;
  * необходимо объяснить, как происходит отображение сложных выражений на регистры и память;
  * необходимо продемонстрировать работу транслятора в случае, если количества регистров недостаточно для реализации алгоритма.
  * Любое выражение (statement) -- expression. Примеры корректного кода (с точностью до ключевых слов):
    * (print (if (= 1 x) "T" "F"))
    * (setq x (if (= 1 x) 2 3))
    * (setq x (loop ...))
    * (print (seq x 13))
  * Необходимо объяснить и продемонстрировать, что любое выражение (statement) -- expression.

* `acc` -- Архитектура -- система команд должна быть выстроена вокруг аккумулятора.
  * Инструкции -- изменяют значение, хранимое в аккумуляторе.
  * Ввод-вывод осуществляется через аккумулятор.

* `harv` -- Архитектура организации памяти -- Гарвардская архитектура.

* `hw` -- Control Unit -- hardwired. Реализуется как часть модели.

* `instr` -- Точность модели -- процессор необходимо моделировать с точностью до каждой инструкции (наблюдается состояние после каждой инструкции).

* `binary` -- Представление машинного кода -- бинарное представление.
  * Требуются настоящие бинарные файлы, а не текстовые файлы с 0 и 1.
  * Требуется отладочный вывод в текстовый файл вида:
    ```text
    <address> - <HEXCODE> - <mnemonica> 
    20 - 03340301 - add #01 <- 34 + #03
    ```
    
* `stream` -- Ввод-вывод
  * Ввод-вывод осуществляется как поток токенов. Есть в примере. Логика работы:
    * при старте модели у вас есть буфер, в котором представлены все данные ввода (['h', 'e', 'l', 'l', 'o']);
    * при обращении к вводу (выполнение инструкции) модель процессора получает "токен" (символ) информации;
    * если данные в буфере кончились -- останавливайте моделирование;
    * вывод данных реализуется аналогично, по выполнении команд в буфер вывода добавляется ещё один символ;
    * по окончании моделирования показать все выведенные данные;
    * логика работы с буфером реализуется в рамках модели на Python.

* `mem` -- Ввод-вывод ISA -- memory-mapped (порты ввода-вывода отображаются в память и доступ к ним осуществляется штатными командами),
  * отображение портов ввода-вывода в память должно конфигурироваться (можно hardcode-ом).

* `cstr` -- Поддержка строк -- Null-terminated (C string)

* `prob5` -- Усложнение -- Алгоритм -- Smallest multiple. [Project Euler. Problem 5](https://projecteuler.net/problem=5)

* `8bit` -- машинное слово -- 8 бит (как для памяти команд, так и для памяти данных, если они разделены).

---

### Язык программирования

TODO

### Организация памяти

TODO

### Система команд

TODO

### Транслятор

TODO

### Модель процессора

TODO

#### Взаимодействие с памятью инструкций

```text

         latch                     +--------------+                           
           |          read ------->|              |
           v                       | instructuion |                    +---------------+            +----------+
        +-------+                  |    memory    |----------+-------->|  instruction  |----------->| DataPath |
   +--->|  ipr  |----------+----+->|              |          |         |    decoder    |----+       +----------+
   |    +-------+          |    |  +--------------+          |         +---------------+    v
   |                       |    |                            |                     ^    +---------+
   |    +-------+          |    |                            v                     |    |  step   |
   +----|  MUX  |<-- sel   |    |                          +----------------+      +----| counter |
        +-------+          |    +------------------------->|   comparator   |           +---------+
          ^   ^            |                               +-------+--------+
          |   |            |                                       |
          |   +----(+1)----+                                       |
          |                                                        |
          +--------------------------------------------------------+

```

### Тестирование

TODO

